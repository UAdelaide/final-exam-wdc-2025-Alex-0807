<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Dog of the Day â€“ Totally Overloaded Page</title>
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

<!--  -->
<style>
  body {
    background: #222; color: #666; /* cognitive load:bad contrastï¼ */
    font-family: "Comic Sans MS", cursive, sans-serif;
    animation: bgflash 1s infinite alternate; /* ç‚«å…‰åŠ¨æ•ˆï¼Œå¹²æ‰°æ³¨æ„åŠ› */
  }
  @keyframes bgflash { 0% { filter: hue-rotate(0deg);} 100% { filter: hue-rotate(180deg);} }

  h1 { font-size: 48px; text-shadow: 3px 3px #ff00ff; } /* å¤¸å¼ é˜´å½± */
  .card {
    border: 5px dashed lime;
    padding: 1rem;
    margin: 1rem auto;
    width: 80%;
    transform: rotate(-2deg); /* æ–œæ”¾å¢åŠ è§†è§‰è´Ÿæ‹… */
  }
  /* æå°å¯ç‚¹å‡»åŒºï¼Œå¢åŠ  kinematic load */
  .tiny-btn {
    font-size: 10px;
    padding: 2px 4px;
    cursor: pointer;
  }
  /* æ²¡æœ‰ focus æ ·å¼ï¼Œé”®ç›˜ç”¨æˆ·éš¾å®šä½ */
</style>
</head>
<body>
  <div id="app">
    <!-- åŠ¨æ€è®¡æ—¶å™¨ä¸åœåˆ·æ–°ï¼Œåˆ†æ•£æ³¨æ„åŠ› -->
    <marquee behavior="alternate" scrollamount="10">âœ¨ Welcome to DOG OF THE DAY âœ¨ â€” {{ now }}</marquee>

    <h1 @dblclick="showAlert">ğŸ¶ Dog of the Day</h1> <!-- åŒå‡»æ‰èƒ½è§¦å‘ï¼šé¢å¤–åŠ¨ä½œ -->

    <!-- å›¾ç‰‡æ²¡æœ‰ alt æ–‡æœ¬ï¼›è§†è§‰éšœç¢è€…è¯»ä¸åˆ° -->
    <div class="card">
      <img :src="dogPic" width="400" height="400">
      <p><strong>Name:</strong> Sir Barks-a-lot the Third of Barkingtonshire ğŸ§</p>
      <p><strong>Bio:</strong> {{ longBio }}</p>
      <!-- å°æŒ‰é’®ï¼Œéœ€è¦å¤šæ¬¡ç‚¹å‡»æ‰èƒ½åˆ·æ–° -->
      <button class="tiny-btn" @click="clickCount++" v-if="clickCount < 3">
        Click {{ 3 - clickCount }} more time(s) to refresh photo
      </button>
      <button class="tiny-btn" @click="getDog" v-else>
        Finally, get me a new dog!
      </button>
    </div>
  </div>

<script>
const { createApp } = Vue;

createApp({
  data() {
    return {
      dogPic: '',
      longBio: 'Born under a full moon ğŸŒ•, Sir Barks-a-lot mastered 27 languages, ' +
               'won 12 Nobel prizes, starred in 38 movies, and loves quantum physics. ' +
               'He can fetch a ball from another dimension. (Repeat x3) ' +
               'Born under a full moon ğŸŒ•, Sir Barks-a-lot mastered 27 languages, ' +
               'won 12 Nobel prizes, starred in 38 movies, and loves quantum physics. ' +
               'He can fetch a ball from another dimension. (Repeat x3) ' +
               'Born under a full moon ğŸŒ•, Sir Barks-a-lot mastered 27 languages, ' +
               'won 12 Nobel prizes, starred in 38 movies, and loves quantum physics. ' +
               'He can fetch a ball from another dimension. (Repeat x3)',
      clickCount: 0,
      now: new Date().toLocaleTimeString()
    };
  },
  mounted() {
    this.getDog();
    // æ¯ç§’æ›´æ–°æ—¶é—´ï¼Œé€ æˆæŒç»­è§†è§‰å¹²æ‰°
    setInterval(() => { this.now = new Date().toLocaleTimeString(); }, 1000);
  },
  methods: {
    async getDog() {
      try {
        const res = await fetch('https://dog.ceo/api/breeds/image/random');
        const data = await res.json();
        this.dogPic = data.message;
        this.clickCount = 0; // é‡æ–°å¼€å§‹â€œç‚¹ä¸‰æ¬¡â€æ¸¸æˆ
      } catch (e) {
        alert('Failed to fetch dog :(');
      }
    },
    showAlert() {
      alert('Double-click detected! Why so complicated?');
    }
  }
}).mount('#app');
</script>
</body>
</html>
